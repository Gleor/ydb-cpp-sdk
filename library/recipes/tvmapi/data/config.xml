<?xml version="1.0"?>
<config xmlns:xi="http://www.w3.org/2003/XInclude">
  <http_daemon>
    <listen_address>localhost</listen_address>
    <port>{port}</port>
    <max_connections>4096</max_connections>
    <max_queue_size>4096</max_queue_size>
  </http_daemon>
  <components>
    <component name="tvm">
      <force_down_file>./tvm.down</force_down_file>
      <checksecret_client_id>39</checksecret_client_id>
      <verifyssh_client_id>27</verifyssh_client_id>
      <keys_acceptable_age>34560000000000</keys_acceptable_age>
      <logger_common>
        <level>DEBUG</level>
        <print-level>yes</print-level>
        <time-format>_DEFAULT_</time-format>
        <file>./testing_out_stuff/tvm-error.log</file>
      </logger_common>
      <logger_access>
        <level>INFO</level>
        <file>./testing_out_stuff/tvm-access.log</file>
        <time-format>%Y-%m-%d %T</time-format>
      </logger_access>
      <log_dbpool>./testing_out_stuff/tvm-dbpool.log</log_dbpool>
      <log_notify>./testing_out_stuff/tvm-notify.log</log_notify>
      <tvm_db>
        <poolsize>1</poolsize>
        <get_timeout>500</get_timeout>
        <connect_timeout>500</connect_timeout>
        <query_timeout>5000</query_timeout>
        <fail_threshold>1500</fail_threshold>
        <db_driver>sqlite</db_driver>
        <db_host>.</db_host>
        <db_port>3306</db_port>
        <db_name>./tvm.db</db_name>
        <db_credentials>{tvmdb_credentials}</db_credentials>
      </tvm_db>

      <tvm_client>
        <disk_cache>{tvm_cache}</disk_cache>
        <tvm>172</tvm>
        <tvm_host>localhost</tvm_host>
        <tvm_port>{port}</tvm_port>
        <client_secret_file>{client_secret}</client_secret_file>
      </tvm_client>

      <staff>
        <cache_path>{staff.json}</cache_path>
        <tvm>2001974</tvm>
        <db_host>.</db_host>
        <db_port>80</db_port>
        <connect_timeout>1000</connect_timeout>
        <query_timeout>1000</query_timeout>
      </staff>
      <staff_processor>
        <enabled>1</enabled>
        <refresh_period>900</refresh_period>
        <retries_per_request>3</retries_per_request>
        <limit_per_request>1000</limit_per_request>
      </staff_processor>
      <abc>
        <enabled>1</enabled>
        <tvm>2012190</tvm>
        <cache_path>{abc.json}</cache_path>
        <refresh_period>900</refresh_period>
        <retries_per_request>3</retries_per_request>
        <limit_per_request>1000</limit_per_request>
        <tvm_manager_role_id>631</tvm_manager_role_id>
        <db_host>.</db_host>
        <db_port>443</db_port>
        <connect_timeout>1000</connect_timeout>
        <query_timeout>1000</query_timeout>
      </abc>
      <cache>
        <switching_threads>1</switching_threads>
        <bucket_count>2048</bucket_count>
        <bucket_size>128</bucket_size>
        <ttl>75</ttl>
      </cache>
      <timestamp_allowed_diff>60</timestamp_allowed_diff>
      <db_fetcher>
        <refresh_period>600</refresh_period>
        <key_file>{secret.key}</key_file>
        <retries_per_request>3</retries_per_request>
        <disk_cache>./db.cache</disk_cache>
        <prefered_private_key_idx>14</prefered_private_key_idx>
        <min_key_count>1</min_key_count>
      </db_fetcher>
      <passport_ids>
        <bb_prod>162</bb_prod>
        <bb_prod_yateam>164</bb_prod_yateam>
        <bb_test>166</bb_test>
        <bb_test_yateam>168</bb_test_yateam>
        <bb_stress>170</bb_stress>
        <bb_mimino>188</bb_mimino>
        <tvm>172</tvm>
      </passport_ids>
      <pregeneration>
        <period>60</period>
        <key_ttl>60</key_ttl>
        <raw_list_file>./raw_list</raw_list_file>
      </pregeneration>
    </component>
  </components>
</config>

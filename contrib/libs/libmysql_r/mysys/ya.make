# Generated by devtools/yamaker.

LIBRARY()

LICENSE(
    Beerware AND
    GPL-2.0-only WITH Mysql-Linking-Exception-2018 AND
    GPL-2.0-only WITH Universal-FOSS-exception-1.0 AND
    Public-Domain
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

PEERDIR(
    contrib/libs/libc_compat
    contrib/libs/openssl
    contrib/libs/zlib
)

ADDINCL(
    contrib/libs/libmysql_r
    contrib/libs/libmysql_r/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DDBUG_OFF
    -DHAVE_CONFIG_H
    -DHAVE_LIBEVENT2
    -DHAVE_OPENSSL
    -DHAVE_TLSv13
    -DLZ4_DISABLE_DEPRECATE_WARNINGS
    -DRAPIDJSON_NO_SIZETYPEDEFINE
    -DRAPIDJSON_SCHEMA_USE_INTERNALREGEX=0
    -DRAPIDJSON_SCHEMA_USE_STDREGEX=1
    -DUNISTR_FROM_CHAR_EXPLICIT=explicit
    -DUNISTR_FROM_STRING_EXPLICIT=explicit
)

SRCS(
    array.cc
    base64.cc
    charset-def.cc
    charset.cc
    checksum.cc
    crypt_genhash_impl.cc
    errors.cc
    lf_alloc-pin.cc
    lf_dynarray.cc
    lf_hash.cc
    list.cc
    mf_arr_appstr.cc
    mf_cache.cc
    mf_dirname.cc
    mf_fn_ext.cc
    mf_format.cc
    mf_iocache.cc
    mf_iocache2.cc
    mf_keycache.cc
    mf_keycaches.cc
    mf_loadpath.cc
    mf_pack.cc
    mf_path.cc
    mf_same.cc
    mf_tempdir.cc
    mf_tempfile.cc
    mf_unixpath.cc
    mf_wcomp.cc
    mulalloc.cc
    my_access.cc
    my_aes.cc
    my_aes_openssl.cc
    my_alloc.cc
    my_bit.cc
    my_bitmap.cc
    my_chmod.cc
    my_chsize.cc
    my_compare.cc
    my_compress.cc
    my_copy.cc
    my_create.cc
    my_default.cc
    my_delete.cc
    my_div.cc
    my_error.cc
    my_fallocator.cc
    my_file.cc
    my_fopen.cc
    my_fstream.cc
    my_gethwaddr.cc
    my_getopt.cc
    my_getwd.cc
    my_init.cc
    my_lib.cc
    my_malloc.cc
    my_md5.cc
    my_mess.cc
    my_mkdir.cc
    my_mmap.cc
    my_murmur3.cc
    my_once.cc
    my_open.cc
    my_pread.cc
    my_rdtsc.cc
    my_read.cc
    my_rename.cc
    my_rnd.cc
    my_seek.cc
    my_sha1.cc
    my_sha2.cc
    my_static.cc
    my_string.cc
    my_symlink.cc
    my_symlink2.cc
    my_sync.cc
    my_syslog.cc
    my_thr_init.cc
    my_thread.cc
    my_user.cc
    my_write.cc
    pack.cc
    print_version.cc
    psi_noop.cc
    ptr_cmp.cc
    sql_chars.cc
    stacktrace.cc
    thr_cond.cc
    thr_lock.cc
    thr_mutex.cc
    thr_rwlock.cc
    tree.cc
    typelib.cc
)

IF (OS_DARWIN)
    SRCS(
        kqueue_timers.cc
        my_getpwnam.cc
    )
ELSEIF (OS_LINUX)
    SRCS(
        my_getpwnam.cc
        my_largepage.cc
        posix_timers.cc
    )
ELSEIF (OS_WINDOWS)
    SRCS(
        my_conio.cc
        my_windac.cc
        my_winerr.cc
        my_winfile.cc
        win_timers.cc
    )
ENDIF()

END()

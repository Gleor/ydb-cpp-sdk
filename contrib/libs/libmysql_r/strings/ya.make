# Generated by devtools/yamaker.

LIBRARY()

LICENSE(
    GPL-2.0-only WITH Mysql-Linking-Exception-2018 AND
    GPL-2.0-only WITH Universal-FOSS-exception-1.0 AND
    Mit-Old-Style AND
    X11-Hanson AND
    X11-Lucent
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

PEERDIR(
    contrib/libs/openssl
)

ADDINCL(
    contrib/libs/libmysql_r
    contrib/libs/libmysql_r/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DDBUG_OFF
    -DDISABLE_MYSQL_THREAD_H
    -DHAVE_CONFIG_H
    -DHAVE_LIBEVENT2
    -DHAVE_OPENSSL
    -DHAVE_TLSv13
    -DLZ4_DISABLE_DEPRECATE_WARNINGS
    -DRAPIDJSON_NO_SIZETYPEDEFINE
    -DRAPIDJSON_SCHEMA_USE_INTERNALREGEX=0
    -DRAPIDJSON_SCHEMA_USE_STDREGEX=1
    -DUNISTR_FROM_CHAR_EXPLICIT=explicit
    -DUNISTR_FROM_STRING_EXPLICIT=explicit
)

SRCS(
    ctype-big5.cc
    ctype-bin.cc
    ctype-cp932.cc
    ctype-czech.cc
    ctype-euc_kr.cc
    ctype-eucjpms.cc
    ctype-extra.cc
    ctype-gb18030.cc
    ctype-gb2312.cc
    ctype-gbk.cc
    ctype-latin1.cc
    ctype-mb.cc
    ctype-simple.cc
    ctype-sjis.cc
    ctype-tis620.cc
    ctype-uca.cc
    ctype-ucs2.cc
    ctype-ujis.cc
    ctype-utf8.cc
    ctype-win1250ch.cc
    ctype.cc
    decimal.cc
    dtoa.cc
    int2str.cc
    longlong2str.cc
    my_strchr.cc
    my_strtoll10.cc
    str2int.cc
    str_alloc.cc
    strcont.cc
    strmake.cc
    strxmov.cc
    strxnmov.cc
    xml.cc
)

RUN_PROGRAM(
    contrib/libs/libmysql_r/strings/uca9dump ja --in_file=lang_data/ja_hans.txt --out_file=uca900_ja_tbls.cc
    CWD ${ARCADIA_BUILD_ROOT}/contrib/libs/libmysql_r/strings
    IN lang_data/ja_hans.txt
    OUTPUT_INCLUDES my_inttypes.h
    OUT uca900_ja_tbls.cc
)

RUN_PROGRAM(
    contrib/libs/libmysql_r/strings/uca9dump zh --in_file=lang_data/zh_hans.txt --out_file=uca900_zh_tbls.cc
    CWD ${ARCADIA_BUILD_ROOT}/contrib/libs/libmysql_r/strings
    IN lang_data/zh_hans.txt
    OUTPUT_INCLUDES my_inttypes.h
    OUT uca900_zh_tbls.cc
)

END()
